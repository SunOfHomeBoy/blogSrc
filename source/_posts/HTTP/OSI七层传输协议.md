---
title: OSI七层传输协议
date: 2019-03-01 09:42:57
tags: OSI
categories: HTTP
---
# 网际互联及OSI七层模型：
````
物理层、数据链路层、网络层、传输层、表示层、会话层、应用层

==========================================

物理层

作用：定义一些电器，机械，过程和规范，如集线器；

PDU(协议数据单元)：bit/比特

设备：集线器HUB;

注意：没有寻址的概念；

==========================================

数据链路层

作用：定义如何格式化数据，支持错误检测；

典型协议：以太网，帧中继（古董级VPN）

PDU：frame（帧）设备：以太网交换机；

备注：交换机通过MAC地址转发数据，逻辑链路控制；

===========================================

网络层

作用：定义一个逻辑的寻址，选择最佳路径传输，路由数据包；

典型协议：IP，IPX，ICMP,ARP(IP->MAC),IARP;

PDU:packet/数据包；

设备：路由器

备注：实现寻址

============================================

传输层：

作用：提供可靠和尽力而为的传输；

典型协议：TCP,UDP,SPX,port(65535个端口),EIGRP,OSPF,

PDU:fragment 段；

无典型设备；

备注：负责网络传输和会话建立；

=============================================

会话层：

作用：控制会话，建立管理终止应用程序会话；

典型协议：NFS, SQL, ASP, PHP, JSP, RSVP(资源源预留协议), windows， 

备注：负责会话建立；

==============================================

表示层：

作用：格式化数据；

典型协议：ASCII, JPEG. PNG, MP3. WAV, AVI, 

备注：可以提供加密服务；

===============================================

应用层：

作用：控制应用程序；

典型协议：telnet, ssh, http, ftp, smtp, rip, BGP, (未完待续)

备注：为应用程序提供网络服务；

================================================

Q：什么时候有PDU？

A：当需要跟别人通信时候才有。
````

# OSI
```md
 HTTP(超文本传输协议)
    处于OSI7层模型中应用层,分别为 应用=>表示=>会话=>传输=>网络=>数据连接=>物理层

  通过OSI七层协议进行传输,下面给出传输方式:
    OSI参考模型与TCP/IP协议模型结构
  `OSI参考模型`也称为`异质系统互联`的七层框架----
  **★物理层**(PhysicalLayer)----提供机械、电气、功能和过程特性。如规定使用电缆和接头的类型,传送信号的电压等。在这一层,数据还没有被组织,仅作为原始的位流或电气电压处理。(电缆、接头、架线)

  **★数据链路层**(DataLinkLayer)----实现数据的无差错传送。它接收物理层的原始数据位流以组成帧(位组),并在网络设备之间传输。帧含有源站点和目的站点的物理地址。
  
  **★网络层**(NetworkLayer)----处理网络间路由,确保数据及时传送。将数据链路层提供的帧组成数据包,包中封装有网络层包头,其中含有逻辑地址信息——源站点和目的站点地址的网络地址。
  
  **★传输层**(TransportLayer)提供建立、维护和取消传输连接功能,负责可靠地传输数据。
  
  **★会话层**(SessionLayer)----提供包括访问验证和会话管理在内的建立和维护应用之间通信的机制。如服务器验证用户登录便是由会话层完成的。

  **★表示层**(PresentationLayer)----提供格式化的表示和转换数据服务。如数据的压缩和解压缩,加密和解密等工作都由表示层负责。

  **★应用层**(ApplicationLayer)----提供网络与用户应用软件之间的接口服务。
  
  `OSI/RM`是`ISO`在`网络通信方面`所定义的`开放系统互连模型`,`1978ISO(国际化标准组织)`定义了这样一个开放协议标准。有了这个开放的模型,各`网络设备厂商`就可以`遵照共同的标准`来开发网络产品,最终实现彼此`兼容`。
  整个`OSI/RM模型共分7层`,从下往上分别是:`物理层`、`数据链路层`、`网络层`、`传输层`、`会话层`、`表示层`和`应用层`。当`接受`数据时,`数据是自下而上传输`;当`发送`数据时,`数据是自上而下传输`。

  (1)`物理层`:这是整个OSI参考模型的最低层,它的任务就是提供网络的物理连接。所以,物理层是建立在物理介质上(而不是逻辑上的协议和会话),它提供的是机械和电气接口。主要包括电缆、物理端口和附属设备,如双绞线、同轴电缆、接线设备(如网卡等)、RJ-45接口、串口和并口等在网络中都是工作在这个层次的。物理层提供的服务包括:物理连接、物理服务数据单元顺序化(接收物理实体收到的比特顺序,与发送物理实体所发送的比特顺序相同)和数据电路标识。

  (2)`数据链路层`:是建立在物理传输能力的基础上,以帧为单位传输数据,它的主要任务就是进行数据封装和数据链接的建立。封装的数据信息中,地址段含有发送节点和接收节点的地址,控制段用来表示数格连接帧的类型,数据段包含实际要传输的数据,差错控制段用来检测传输中帧出现的错误。数据链路层可使用的协议有SLIP、PPP、X25和帧中继等。常见的集线器和低档的交换机网络设备都是工作在这个层次上,Modem之类的拨号设备也是。工作在这个层次上的交换机俗称“第二层交换机”。具体讲,数据链路层的功能包括:数据链路连接的建立与释放、构成数据链路数据单元、数据链路连接的分裂、定界与同步、顺序和流量控制和差错的检测和恢复等方面。

  (3)`网络层`:属于OSI中的较高层次了,从它的名字可以看出,它解决的是网络与网络之间,即网际的通信问题,而不是同一网段内部的事。网络层的主要功能即是提供路由,即选择到达目标主机的最佳路径,并沿该路径传送数据包。除此之外,网络层还要能够消除网络拥挤,具有流量控制和拥挤控制的能力。网络边界中的路由器就工作在这个层次上,现在较高档的交换机也可直接工作在这个层次上,因此它们也提供了路由功能,俗称“第三层交换机”。网络层的功能包括:建立和拆除网络连接、路径选择和中继、网络连接多路复用、分段和组块、服务选择和传输和流量控制。
  
  (4)`传输层`:解决的是数据在网络之间的传输质量问题,它属于较高层次。传输层用于提高网络层服务质量,提供可靠的端到端的数据传输,如常说的QoS就是这一层的主要服务。这一层主要涉及的是网络传输协议,它提供的是一套网络数据传输标准,如TCP协议。传输层的功能包括:映像传输地址到网络地址、多路复用与分割、传输连接的建立与释放、分段与重新组装、组块与分块。根据传输层所提供服务的主要性质,传输层服务可分为以下三大类:A类:网络连接具有可接受的差错率和可接受的故障通知率,A类服务是可靠的网络服务,一般指虚电路服务。C类:网络连接具有不可接受的差错率,C类的服务质量最差,提供数据报服务或无线电分组交换网均属此类。B类:网络连接具有可接受的差错率和不可接受的故障通知率,B类服务介于A类与C类之间,在广域网和互联网多是提供B类服务。
  
  (5)`会话层`:利用传输层来提供会话服务,会话可能是一个用户通过网络登录到一个主机,或一个正在建立的用于传输文件的会话。会话层的功能主要有:会话连接到传输连接的映射、数据传送、会话连接的恢复和释放、会话管理、令牌管理和活动管理。
  
  (6)`表示层`:用于数据管理的表示方式,如用于文本文件的ASCII和EBCDIC,用于表示数字的1S或2S补码表示形式。如果通信双方用不同的数据表示方法,他们就不能互相理解。表示层就是用于屏蔽这种不同之处。表示层的功能主要有:数据语法转换、语法表示、表示连接管理、数据加密和数据压缩。

  (7)`应用层`:这是OSI参考模型的最高层,它解决的也是最高层次,即程序应用过程中的问题,它直接面对用户的具体应用。应用层包含用户应用程序执行通信任务所需要的协议和功能,如电子邮件和文件传输等,在这一层中`TCP/IP`协议中的`FTP`、`SMTP`、`POP`等协议得到了充分应用`TCP/IP`协议
    TCP/IP协议并不完全符合OSI的七层参考模型。传统的开放式系统互连参考模型,是一种通信协议的7层抽象的参考模型,其中每一层执行某一特定任务。该模型的目的是使各种硬件在相同的层次上相互通信。这7层是:物理层、数据链路层、网路层、传输层、话路层、表示层和应用层。而TCP/IP通讯协议采用了4层的层级结构,每一层都呼叫它的下一层所提供的网络来完成自己的需求。
  这4层分别为:
    `应用层`:应用程序间沟通的层,如简单电子邮件传输(SMTP)、文件传输协议(FTP)、网络远程访问协议(Telnet)等。
    `传输层`:在此层中,它提供了节点间的数据传送服务,如传输控制协议(TCP)、用户数据报协议(UDP)等,TCP和UDP给数据包加入传输数据并把它传输到下一层中,这一层负责传送数据,并且确定数据已被送达并接收。
    `互连网络层`:负责提供基本的数据封包传送功能,让每一块数据包都能够到达目的主机(但不检查是否被正确接收),如网际协议(IP)。
    `网络接口层`:对实际的网络媒体的管理,定义如何使用实际网络(如Ethernet、SerialLine等)来传送数据。
  
  二、OSI参考模型与TCP/IP协议模型各层中的协议TCP/IP协议中有FTP、SMTP、POPTCP/IP的通讯协议.这部分简要介绍一下TCP/IP的内部结构,为讨论与互联网有关的安全问题打下基础。TCP/IP协议组之所以流行,部分原因是因为它可以用在各种各样的信道和底层协议(例如T1和X.25、以太网以及RS-232串行接口)之上。确切地说,TCP/IP协议是一组包括TCP协议和IP协议,UDP(UserDatagramProtocol)协议、ICMP(InternetControlMessageProtocol)协议和其他一些协议的协议组。

```