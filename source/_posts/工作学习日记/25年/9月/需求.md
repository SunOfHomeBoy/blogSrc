<!--
 * @Description:
 * @Date: 2025-09-12 11:53:31
 * @LastEditTime: 2025-09-12 12:03:39
 * @FilePath: \blogSrc\source\_posts\工作学习日记\25年\9月\需求.md
-->
需求.md
现在有一个需求，制作一个 一键跳转的命令

```bash
  # 进入su用户
  sudo su
  # 输入su密码: 123.com@

  # cd 到指定目录
  cd /var/lib/docker/containers/ca51df3d8f94e69552ced7c122cd39efe9fe9e02df2717077815c2c5ed2d601f
```

我想在 Ubuntu 上制作一个 一键执行 的脚本文件，用什么实现比较好？
.sh 还是其他方法？

## 解决方案

对于这个需求，使用 **.sh 脚本文件** 是最合适的选择。以下是几种实现方法：

### 方法一：基础Shell脚本（推荐）

创建一个名为 `goto_docker_container.sh` 的脚本文件：

```bash
#!/bin/bash
# 自动跳转到指定Docker容器目录的脚本

CONTAINER_ID="ca51df3d8f94e69552ced7c122cd39efe9fe9e02df2717077815c2c5ed2d601f"
TARGET_DIR="/var/lib/docker/containers/${CONTAINER_ID}"

# 检查目录是否存在
if [ ! -d "$TARGET_DIR" ]; then
    echo "错误: 目录 $TARGET_DIR 不存在"
    exit 1
fi

# 切换到目标目录
cd "$TARGET_DIR"

# 启动一个新的shell会话
echo "已切换到目录: $(pwd)"
exec bash
```

使用方法：
```bash
# 给脚本添加执行权限
chmod +x goto_docker_container.sh

# 运行脚本
./goto_docker_container.sh
```

### 方法二：带参数的Shell脚本

创建一个更灵活的脚本，可以接受容器ID作为参数：

```bash
#!/bin/bash
# 自动跳转到指定Docker容器目录的脚本（支持参数）

# 如果没有提供参数，则使用默认容器ID
CONTAINER_ID=${1:-"ca51df3d8f94e69552ced7c122cd39efe9fe9e02df2717077815c2c5ed2d601f"}
TARGET_DIR="/var/lib/docker/containers/${CONTAINER_ID}"

# 检查目录是否存在
if [ ! -d "$TARGET_DIR" ]; then
    echo "错误: 目录 $TARGET_DIR 不存在"
    exit 1
fi

# 切换到目标目录
cd "$TARGET_DIR"

# 启动一个新的shell会话
echo "已切换到目录: $(pwd)"
exec bash
```

使用方法：
```bash
# 使用默认容器ID
./goto_docker_container.sh

# 使用指定容器ID
./goto_docker_container.sh your_container_id
```

### 方法三：创建别名（Alternative方法）

在 `~/.bashrc` 或 `~/.zshrc` 中添加别名：

```bash
# 添加到 ~/.bashrc
alias gotodocker='cd /var/lib/docker/containers/ca51df3d8f94e69552ced7c122cd39efe9fe9e02df2717077815c2c5ed2d601f'
```

然后执行：
```bash
source ~/.bashrc
gotodocker
```

### 方法四：使用函数（推荐用于频繁使用）

在 `~/.bashrc` 中添加函数：

```bash
# 添加到 ~/.bashrc
goto_docker_container() {
    local CONTAINER_ID=${1:-"ca51df3d8f94e69552ced7c122cd39efe9fe9e02df2717077815c2c5ed2d601f"}
    local TARGET_DIR="/var/lib/docker/containers/${CONTAINER_ID}"

    if [ ! -d "$TARGET_DIR" ]; then
        echo "错误: 目录 $TARGET_DIR 不存在"
        return 1
    fi

    cd "$TARGET_DIR"
    echo "已切换到目录: $(pwd)"
}
```

使用方法：
```bash
# 重新加载配置
source ~/.bashrc

# 使用函数
goto_docker_container
```

## 推荐方案

**推荐使用方法一（基础Shell脚本）**，因为：

1. **简单直接**：符合您的需求，不需要额外配置
2. **易于维护**：脚本文件独立，便于修改和管理
3. **可执行性好**：可以添加执行权限，直接运行
4. **兼容性强**：适用于所有支持bash的Linux系统

## 注意事项

1. **权限问题**：访问 `/var/lib/docker/containers/` 目录通常需要root权限
2. **安全性**：确保脚本文件的安全性，避免未经授权的访问
3. **容器ID变化**：容器ID可能会变化，需要定期更新脚本
